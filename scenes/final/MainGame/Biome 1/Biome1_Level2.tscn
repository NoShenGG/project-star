[gd_scene load_steps=13 format=3 uid="uid://bsc42v81y6tc3"]

[ext_resource type="PackedScene" uid="uid://brmdsiu0kp6ca" path="res://scenes/final/player_manager.tscn" id="1_c3gbp"]
[ext_resource type="Script" uid="uid://cs72ukacrgd4g" path="res://scripts/utility/wave_manager.gd" id="2_e85ix"]
[ext_resource type="Script" uid="uid://dr7x5nckg7bcr" path="res://scripts/utility/wave.gd" id="3_igsq4"]
[ext_resource type="PackedScene" uid="uid://cipc0pee6kke6" path="res://scenes/sub/Slime.tscn" id="4_e85ix"]
[ext_resource type="PackedScene" uid="uid://c1ujvuwjyhhn" path="res://scenes/tool/spawn_area.tscn" id="5_igsq4"]
[ext_resource type="PackedScene" uid="uid://4k1on6ftdobj" path="res://scenes/final/MainGame/Prefabs/LevelEnder.tscn" id="6_3wmx4"]
[ext_resource type="PackedScene" uid="uid://celvhgttbuade" path="res://scenes/sub/Mossypede.tscn" id="6_e85ix"]

[sub_resource type="BoxShape3D" id="BoxShape3D_c3gbp"]
size = Vector3(15, 3, 15)

[sub_resource type="NavigationMesh" id="NavigationMesh_e85ix"]
vertices = PackedVector3Array(8.799078, 2.3032792, -38.80107, 14.799078, 2.3032792, -38.80107, 14.799078, 2.8032792, -40.80107, 8.799078, 2.8032792, -40.80107, 7.799078, 2.8032792, -41.05107, 16.299078, 2.8032792, -41.05107, 16.299078, 2.8032792, -49.55107, 7.799078, 2.8032792, -49.55107, 8.799078, 1.0532792, -33.80107, 14.799078, 1.0532792, -33.80107, -1.700922, 3.5532792, -30.301071, -1.700922, 3.5532792, -31.051071, -2.700922, 3.5532792, -31.801071, -5.950922, 3.5532792, -36.55107, -12.450922, 3.5532792, -31.801071, -7.950922, 3.5532792, -25.801071, 14.799078, 0.30327916, -31.801071, 8.799078, 0.30327916, -31.801071, 16.549078, 0.30327916, -31.551071, 7.049078, 0.30327916, -31.551071, 7.049078, 0.30327916, -21.051071, 8.049078, 0.30327916, -20.801071, 16.549078, 0.30327916, -18.801071, 8.299078, 0.30327916, -18.551071, -0.700922, 0.30327916, -31.551071, -0.700922, 0.30327916, -29.551071, 3.549078, 0.30327916, -20.801071, -7.450922, 0.30327916, -17.801071, 3.299078, 0.30327916, -18.051071, 3.049078, 0.30327916, -20.301071, -7.450922, 0.30327916, -24.801071, 4.549078, 2.5532792, -16.801071, 7.299078, 2.5532792, -17.051071, 7.049078, 2.5532792, -20.051071, 4.049078, 2.5532792, -19.801071, 8.049078, 0.30327916, -16.051071, 5.549078, 0.30327916, -15.801071, 5.799078, 0.30327916, -8.301071, 16.549078, 0.30327916, -8.301071, 3.549078, 0.30327916, -15.801071, 4.299078, 0.30327916, -8.051071, -7.450922, 0.30327916, -8.301071, -4.450922, 0.30327916, -8.301071, -4.200922, 0.30327916, -6.051071, 4.299078, 0.30327916, -6.051071, -4.200922, 0.30327916, 8.698929, 4.299078, 0.30327916, 8.698929)
polygons = [PackedInt32Array(3, 2, 0), PackedInt32Array(0, 2, 1), PackedInt32Array(3, 4, 2), PackedInt32Array(2, 4, 5), PackedInt32Array(5, 4, 7), PackedInt32Array(5, 7, 6), PackedInt32Array(0, 1, 8), PackedInt32Array(8, 1, 9), PackedInt32Array(12, 11, 10), PackedInt32Array(12, 10, 13), PackedInt32Array(13, 10, 15), PackedInt32Array(13, 15, 14), PackedInt32Array(17, 8, 16), PackedInt32Array(16, 8, 9), PackedInt32Array(17, 18, 19), PackedInt32Array(19, 18, 20), PackedInt32Array(20, 18, 21), PackedInt32Array(21, 18, 22), PackedInt32Array(17, 16, 18), PackedInt32Array(21, 22, 23), PackedInt32Array(24, 19, 25), PackedInt32Array(25, 19, 26), PackedInt32Array(26, 19, 20), PackedInt32Array(28, 27, 29), PackedInt32Array(29, 27, 30), PackedInt32Array(29, 30, 25), PackedInt32Array(25, 26, 29), PackedInt32Array(32, 31, 33), PackedInt32Array(33, 31, 34), PackedInt32Array(36, 35, 37), PackedInt32Array(35, 23, 22), PackedInt32Array(37, 35, 38), PackedInt32Array(38, 35, 22), PackedInt32Array(37, 40, 36), PackedInt32Array(36, 40, 39), PackedInt32Array(42, 41, 27), PackedInt32Array(44, 43, 40), PackedInt32Array(40, 43, 42), PackedInt32Array(39, 40, 28), PackedInt32Array(28, 40, 42), PackedInt32Array(28, 42, 27), PackedInt32Array(46, 45, 44), PackedInt32Array(44, 45, 43)]

[sub_resource type="ProceduralSkyMaterial" id="ProceduralSkyMaterial_e85ix"]
sky_top_color = Color(0.7868003, 0.8044158, 0.90088457, 1)
sky_horizon_color = Color(0.59996814, 0.48462427, 0.7608906, 1)
ground_bottom_color = Color(0.17863777, 0.14902645, 0.28510144, 1)
ground_horizon_color = Color(0.6767592, 0.58873963, 0.93670535, 1)

[sub_resource type="Sky" id="Sky_wel6h"]
sky_material = SubResource("ProceduralSkyMaterial_e85ix")

[sub_resource type="Environment" id="Environment_igsq4"]
background_mode = 2
background_color = Color(1, 1, 1, 1)
background_energy_multiplier = 1.17
sky = SubResource("Sky_wel6h")
ambient_light_source = 2
ambient_light_color = Color(0.69779664, 0.45408309, 0.652757, 1)
ambient_light_energy = 1.13
tonemap_mode = 2
tonemap_exposure = 0.5
ssao_enabled = true
ssil_enabled = true
volumetric_fog_density = 0.02
volumetric_fog_detail_spread = 0.5
adjustment_enabled = true
adjustment_brightness = 1.17
adjustment_contrast = 1.24
adjustment_saturation = 0.9

[node name="Level2" type="Node3D"]

[node name="PlayerManager" parent="." instance=ExtResource("1_c3gbp")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -0.04858756, 0, 3.947483)

[node name="LevelEnder" parent="." instance=ExtResource("6_3wmx4")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 12.776691, 2.08103, -49.769444)
next_level = "MainGame/Biome 1/Biome1_Level3"

[node name="WaveManager" type="Node3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 24, 0, -48)
script = ExtResource("2_e85ix")
metadata/_custom_type_script = "uid://cs72ukacrgd4g"

[node name="Wave1" type="Node3D" parent="WaveManager" node_paths=PackedStringArray("spawn_areas")]
script = ExtResource("3_igsq4")
enemies = Array[PackedScene]([ExtResource("6_e85ix"), ExtResource("6_e85ix")])
spawn_areas = [NodePath("../SpawnArea3")]
metadata/_custom_type_script = "uid://dr7x5nckg7bcr"

[node name="Wave2" type="Node3D" parent="WaveManager" node_paths=PackedStringArray("spawn_areas")]
script = ExtResource("3_igsq4")
enemies = Array[PackedScene]([ExtResource("4_e85ix"), ExtResource("4_e85ix"), ExtResource("4_e85ix")])
spawn_areas = [NodePath("../SpawnArea3"), NodePath("../SpawnArea2")]
metadata/_custom_type_script = "uid://dr7x5nckg7bcr"

[node name="Wave3" type="Node3D" parent="WaveManager" node_paths=PackedStringArray("spawn_areas")]
script = ExtResource("3_igsq4")
enemies = Array[PackedScene]([ExtResource("4_e85ix"), ExtResource("6_e85ix"), ExtResource("6_e85ix"), ExtResource("6_e85ix"), ExtResource("6_e85ix"), ExtResource("4_e85ix")])
spawn_areas = [NodePath("../SpawnArea1"), NodePath("../SpawnArea3"), NodePath("../SpawnArea2")]
metadata/_custom_type_script = "uid://dr7x5nckg7bcr"

[node name="Wave_Starter" type="Area3D" parent="WaveManager"]
transform = Transform3D(0.5, 0, 0, 0, 0.5, 0, 0, 0, 0.5, -23.284367, 0, 36.94423)
collision_layer = 0
collision_mask = 2

[node name="CollisionShape3D" type="CollisionShape3D" parent="WaveManager/Wave_Starter"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 0.5015373, -1.4844837, 0, 16.595528)
shape = SubResource("BoxShape3D_c3gbp")
debug_color = Color(0, 7.095753, 8.250874, 1)

[node name="SpawnArea1" parent="WaveManager" instance=ExtResource("5_igsq4")]
transform = Transform3D(6.9954877, 0, 0, 0, 1, 0, 0, 0, 6.973015, -12.74322, -1.9073486e-06, 23.589195)
visible = false

[node name="SpawnArea2" parent="WaveManager" instance=ExtResource("5_igsq4")]
transform = Transform3D(6.9954877, 0, 0, 0, 1, 0, 0, 0, 6.973015, -25.710854, -1.9073486e-06, 25.900215)
visible = false

[node name="SpawnArea3" parent="WaveManager" instance=ExtResource("5_igsq4")]
transform = Transform3D(6.9954877, 0, 0, 0, 1, 0, 0, 0, 6.973015, -12.211233, -1.9073486e-06, 35.15052)
visible = false

[node name="Navmesh" type="NavigationRegion3D" parent="."]
navigation_mesh = SubResource("NavigationMesh_e85ix")

[node name="CSGCombiner3D2" type="CSGCombiner3D" parent="Navmesh"]
use_collision = true

[node name="CSGBox3D" type="CSGBox3D" parent="Navmesh/CSGCombiner3D2"]
transform = Transform3D(1.8351959, 0, 0, 0, 1, 0, 0, 0, 0.7874009, 0, -0.516, 0.4014883)
use_collision = true
size = Vector3(5, 1, 22.198734)

[node name="CSGBox3D2" type="CSGBox3D" parent="Navmesh/CSGCombiner3D2"]
transform = Transform3D(2.7395766, 0, 0, 0, 1, 0, 0, 0, 4.820099, 4.6549187, -0.516, -19.855461)
use_collision = true
size = Vector3(9.113159, 1, 5)

[node name="CSGBox3D4" type="CSGBox3D" parent="Navmesh/CSGCombiner3D2"]
transform = Transform3D(1.0283937, 0, 0, 0, 1, 0, 0, 0, 1.8512225, 11.986427, 1.8413618, -45.423016)
use_collision = true
size = Vector3(9.113159, 1, 5)

[node name="CSGBox3D3" type="CSGBox3D" parent="Navmesh/CSGCombiner3D2"]
transform = Transform3D(0.75872743, 0, 0, 0, 0.9676651, -0.66163623, 0, 0.25223824, 2.5382447, 11.812649, 0.2048276, -34.649994)
use_collision = true
size = Vector3(9.113159, 1, 5)

[node name="CSGBox3D5" type="CSGBox3D" parent="Navmesh/CSGCombiner3D2"]
transform = Transform3D(6.963255, 0, 5.0079813, 0, 4.3364415, 0, -5.3095737, 0, 6.5677304, -6.9653034, 1.0383105, -31.074982)

[node name="CSGBox3D6" type="CSGBox3D" parent="Navmesh/CSGCombiner3D2"]
transform = Transform3D(3.6651103, 0, 0.3945074, 0, 4.3364415, 0, -0.38088584, 0, 3.7961855, 5.7677193, -0.02850008, -18.320839)

[node name="DirectionalLight3D" type="DirectionalLight3D" parent="."]
transform = Transform3D(-0.5219336, -0.61917514, 0.58669204, 0.061710697, 0.65859747, 0.74996084, -0.850751, 0.42763487, -0.3055344, 0, 22.456, 0)
shadow_enabled = true
sky_mode = 1

[node name="WorldEnvironment" type="WorldEnvironment" parent="DirectionalLight3D"]
environment = SubResource("Environment_igsq4")

[connection signal="body_entered" from="WaveManager/Wave_Starter" to="WaveManager" method="_on_start" unbinds=1]
